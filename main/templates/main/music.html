<!doctype html>
{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="/media/images/soundmanagerv297a-20170601/script/soundmanager2.js"></script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'main/css/mystyle.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Allura&family=Cormorant:wght@600&display=swap" rel="stylesheet">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"> -->
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
    <title> Music </title>

    <style>
      body{
        background-color: rgb(245, 245, 228);
      }
      .navbar .navbar-nav .nav-item .nav-link:hover
   {
      border: 2px solid white;
      background-color: #dc3545;
      color: white;
      
   }
   .navbar .navbar-nav .nav-item .nav-link
   {
     
      color: rgb(0,0,0,0.65)
      
   }
   .blink {
                animation: blinker 1.5s linear infinite;
                color: black;
                font-family: sans-serif;
            }
            @keyframes blinker {
                50% {
                    opacity: 0;
                }
            }
    </style>
  </head>
  <body>
    {% load static %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">
        <img src="{% static 'main/images/logo.jpeg' %}" width="30" height="30" class="d-inline-block align-top"  style="text-decoration-color: brown;" alt="">
        <span style="color: black; font-weight: bold;">TAKE</span> <span style="color: rgb(111, 26, 26); font-weight: bold;">TEN</span>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="{% url 'music' %}">Music <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'songs' %}">All Songs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'discover' %}">Discover</a>
          </li>
          {% if user.is_authenticated %}

          <li class="nav-item">           
              <a class="nav-link" href="{% url 'channel' request.user %}">Your Channel</a>
          </li>

          <li class="nav-item">    
              <a class="nav-link" href="{% url 'upload' %}">Upload Music</a>
          </li>

          <li class="nav-item">    
              <a class="nav-link" href="{% url 'watchlater' %}">Listen Later</a>
          </li>

          <li class="nav-item">    
              <a class="nav-link" href="{% url 'history' %}">History</a>
          </li>
         
          
        
          {% endif %}
          
        </ul>
       
      {% if user.is_authenticated %}
      <div class="collapse navbar-collapse navbord" id="navbarTogglerDemo02">
                <ul class="navbar-nav ml-auto"></ul>
                <h2>
                  <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
                   &nbsp  
                   <span style="font-family: 'Tangerine', serif;  font-size: 48px; " >{{user.username}}  </span>
               </h2>
               
               
               {% else %}
               <!-- Button trigger modal -->
               <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#LoginModal">
                 Login
               </button>
               <!-- Button trigger modal -->
               <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#SignupModal">
                 Sign Up
               </button>
                </ul>
              

      
        {% endif %}
        </div>
    </nav>

    <!--Login Modal -->
<div class="modal fade" id="LoginModal" tabindex="-1" aria-labelledby="LoginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="LoginModalLabel">Login to TAKE TEN</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="{% url 'login' %}" method="POST">
          {% csrf_token %}
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" name="username" placeholder="Enter your username" aria-describedby="emailHelp">
            <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password">
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1">
            <label class="form-check-label" for="exampleCheck1">Check me out</label>
          </div>
          <button type="submit" class="btn btn-primary">Login</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
  </div>
  <!--Signup Modal -->
  <div class="modal fade" id="SignupModal" tabindex="-1" aria-labelledby="SignupModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="SignupModalLabel">Get a TAKE TEN Account</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="{% url 'signup' %}" method="POST">
          {% csrf_token %}
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" name="username">
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email address</label>
            <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp">
            <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
          </div>
          <div class="mb-3">
            <label for="password1" class="form-label">Password</label>
            <input type="password" class="form-control" id="password1" name="password1">
          </div>
          <div class="mb-3">
            <label for="password2" class="form-label">Confirm Password</label>
            <input type="password" class="form-control" id="password2" name="password2">
          </div>
          <button type="submit" class="btn btn-primary">Create Account</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
  </div>

    <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active" style="transition: transform 0.2s ease-in-out,-webkit-transform 0.6s ease-in-out;">
            <img src="{% static 'main/images/music-3.jpg'%}" class="d-block w-100" alt="..." style="width:100vw; height:87vh;">
        </div>
        <div class="carousel-item">
          <img src="{% static 'main/images/music-4.jpg'%}" class="d-block w-100" alt="..." style="width:100vw; height:87vh;">>
        </div>
        <div class="carousel-item">
          <img src="{% static 'main/images/music-5.jpg'%}" class="d-block w-100" alt="..." style="width:100vw; height:87vh;">>
        </div>
      </div>
    </div>

    <!-- ################################ CARDS ##################################################### -->
    <br><br><br> 
    <h2 class="blink" style="padding-left: 8%; padding-top: 2%; width:30%; font-family: 'EB Garamond', serif"> <marquee>Trending Songs </marquee></h2>
      
    <div class="row" style="padding-top: 2%; padding-left: 7%;">
    {% for i in song %}
    <div style="padding-left: 2%; padding-top: 1%;">
    <div class="card" style="width: 17rem;">
      <img src="{{i.image}}" class="card-img-top" alt="..." style="width:100%; height:18rem">
      <div class="card-body">
        <h5 class="card-title">{{i.name}}</h5>
        <p class="card-text" style="color: green;">Tags: {{i.tags}}</p>
        <p class="card-text" style="color: green;">Movie: {{i.movie}}</p>
        <a href="{% url 'songpost' i.song_id %}" class="btn btn-outline-danger ">Listen Song</a>
      </div>
    </div>
  </div>
  {% endfor %}
  </div>
  <hr>

  <br> <br> <br>
  <h2 class="blink" style="padding-left: 8%; padding-top: 2%; width:30%; font-family: 'EB Garamond', serif"><marquee> Your Listen Later </marquee> </h2>

  <div class="row" style="padding-top: 2%; padding-left: 7%;">
    <!-- {% if watch|length < 1 %}
<center>
        <h5  style="text-align: center; padding-top: 5%; font-family: 'EB Garamond', serif; color: rgb(218, 16, 16); font-weight:550;"> <i>Please add some songs to your listen later list </i> </h5>
</center> -->
{% endif %}
    {% for i in watch reversed %}
    <div style="padding-left: 2%; padding-top: 1%;">
    <div class="card" style="width: 17rem;">
      <img src="{{i.image}}" class="card-img-top" alt="..." style="width:100%; height:18rem">
      <div class="card-body">
        <h5 class="card-title">{{i.name}}</h5>
        <p class="card-text" style="color: green;">Tags: {{i.tags}}</p>
        <p class="card-text" style="color: green;">Movie: {{i.movie}}</p>
        <a href="{% url 'songpost' i.song_id %}" class="btn btn-outline-danger ">Listen Song</a>
      </div>
    </div>
  </div>
  {% if forloop.counter|divisibleby:4 and forloop.counter > 0 and not forloop.last %}
  </div> <div class="row" style="padding-top: 2%; padding-left: 7%;">
    {% endif %}
  {% endfor %}
  </div>
  <hr>

  <!-- <h3 style="padding-left: 8%; padding-top: 2%; font-family: 'Verdana';">Your Liked Songs</h3>

    <div class="row" style="padding-top: 2%; padding-left: 7%;">
    
    <div style="padding-left: 2%; padding-bottom: 3%;">
    <div class="card" style="width: 18rem;">
      <img src="{% static 'musicbeats/music-3.jpg'%}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Listen</a>
      </div>
    </div>
  </div>
    <div style="padding-left: 2%;">
    <div class="card" style="width: 18rem;">
      <img src="{% static 'musicbeats/music-3.jpg'%}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Listen</a>
      </div>
    </div>
  </div>
    <div style="padding-left: 2%;">
    <div class="card" style="width: 18rem;">
      <img src="{% static 'musicbeats/music-3.jpg'%}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Listen</a>
      </div>
    
    </div>
  </div>
  </div> -->

 

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  </body>
  </html>